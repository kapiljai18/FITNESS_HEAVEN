<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FITNESS HEAVEN | Contact Dashboard</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    
    <style>
        /* Custom Styles from original file and required for consolidation */
        h4 {
            color: #ff6f61;
            font-size: 25px;
        }

        h5 {
            color: #ff6f61;
        }

        /* Style for the welcome message (Username text) */
        .welcome-msg {
            color: #fff !important; 
            font-weight: bold;
            margin-right: 15px;
            line-height: 40px; /* Align text vertically in the navbar */
        }

        /* CSS for Navbar Font Change */
        .navbar-nav .nav-link,
        .navbar-brand,
        .welcome-msg {
            font-family: 'Arial Black', Arial, sans-serif;
            font-size: 1.1rem; 
        }

        /* Custom Styles for Navbar background and padding */
        .navbar-dark {
            background-color: #111111; /* Dark background for fixed navbar */
            box-shadow: 0 2px 4px rgba(0,0,0,0.4);
        }

        .navbar-brand {
            /* Using text logo since image asset is external */
            font-size: 1.5rem;
            color: #ff6f61 !important;
        }
        
        .navbar-brand img {
            /* Placeholder size for logo image */
            height: 40px;
            width: auto;
            border-radius: 5px;
            background-color: #ff6f61;
            padding: 5px;
        }

        /* Top margin for content below fixed navbar */
        .mt-20 {
            margin-top: 6rem !important; /* Adjust based on navbar height */
        }

        /* Back to Top Button Styling */
        #backToTop {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #ff6f61;
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: none; /* Hidden by default, set to 'flex' by JS on scroll */
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s;
            z-index: 1000;
            font-size: 1.5rem;
        }
        #backToTop:hover {
            background-color: #e55a4d;
        }

        /* Contact Form custom styling */
        .contact-form {
            max-width: 700px;
            margin: 0 auto;
            padding: 20px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }
        .contact-form .form-control {
            border-radius: 0.5rem;
        }
    </style>
</head>
<body>

    <!-- Navbar start -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="dashboard.html">
                <!-- Placeholder for Logo image (FITNESS_HEAVEN_LOGO.png) -->
                <span class="p-2 rounded" style="background-color: #ff6f61; color: white; font-weight: bold;">FH</span> FITNESS HEAVEN
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse " id="navbarNav">
                <ul class="navbar-nav w-100">
                    <li class="nav-item"><a class="nav-link" href="dashboard.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="aboutdash.html">About Us</a></li>
                    <li class="nav-item"><a class="nav-link" href="servicedash.html">Services</a></li>
                    <li class="nav-item"><a class="nav-link active" href="contactdash.html">Contact</a></li>
                    
                    <!-- Authentication Links Container -->
                    <li class="nav-item d-flex align-items-center ms-auto" id="auth-links">
                        <!-- Content inserted by JS based on localStorage -->
                        <a class="nav-link" href="signin.html" >SignIn</a>
                        <a class="nav-link" href="signup.html" >SignUp</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Navbar end -->

    <!-- contact form -->
    <div class="container-fluid mt-20">
        <div class="row">
            <div class="col-12">
                <!-- Google Map Iframe -->
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d240176.75298708404!2d75.09764557649197!3d19.8500307!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bdb99006a64be51%3A0xe9d3a86f9cd5e0b9!2sFitness%20Heaven%20Gym%20And%20Sports!5e0!3m2!1sen!2sin!4v1759256521298!5m2!1sen!2sin" 
                    width="100%" height="450" style="border:0; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="Fitness Heaven Location">
                </iframe>
            </div>

            <div class="col-12 mb-5">
                <h1 class="text-center mt-5 mb-3" style="font-weight:bold; color: #ff6f61;">CONTACT US FOR ENQUIRY</h1>
                <div class="contact-form">
                    <div id="form-message" class="text-center mb-3 fw-bold"></div>
                    <form name="sentMessage" id="contactForm" onsubmit="handleContactSubmit(event)">
                        <div class="control-group mb-3">
                            <input type="text" class="form-control p-4" id="name" placeholder="Your Name" required data-validation-required-message="Please enter your name" />
                        </div>
                        <div class="control-group mb-3">
                            <input type="email" class="form-control p-4" id="email" placeholder="Your Email" required data-validation-required-message="Please enter your email" />
                        </div>
                        
                        <div class="control-group mb-4">
                            <textarea class="form-control p-4" rows="5" id="message" placeholder="Message" required data-validation-required-message="Please enter your message"></textarea>
                        </div>
                        <div>
                            <button class="btn py-3 px-5 w-100" style="color: #f4f2f2; background-color:#ff6f61" type="submit" id="sendMessageButton">Send Message</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- contact form end -->

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-white mt-5 py-5 px-sm-3 px-md-5">
        <div class="row pt-5">
            <div class="col-lg-4 col-md-12 mb-5">
                <h2 class="mb-3 display-5 fw-bold text-white">
                    FITNESS HEAVEN
                </h2>
                <p>Our Mission is to create a healthy society making everyone stronger and happier both physically and mentally.</p>
            </div>
            <div class="col-lg-8 col-md-12">
                <div class="row">
                    <div class="col-md-4 mb-5">
                        <h5 class="mb-4">Get In Touch</h5>
                        <p><i class="bi bi-geo-alt-fill me-2"></i>Jogeshwari, Mumbai, India</p>
                        <p><i class="bi bi-telephone-fill me-2"></i>+91 12345 67890</p>
                        <p><i class="bi bi-envelope-fill me-2"></i>fitnessheaven@gmail.com</p>
                        <div class="d-flex flex-wrap mt-4">
                            <a href="#" class="btn btn-outline-light rounded-circle text-center me-2 mb-2 px-0" style="width: 36px; height: 36px;"><i class="bi bi-twitter"></i></a>
                            <a href="#" class="btn btn-outline-light rounded-circle text-center me-2 mb-2 px-0" style="width: 36px; height: 36px;"><i class="bi bi-facebook"></i></a>
                            <a href="#" class="btn btn-outline-light rounded-circle text-center me-2 mb-2 px-0" style="width: 36px; height: 36px;"><i class="bi bi-linkedin"></i></a>
                            <a href="#" class="btn btn-outline-light rounded-circle text-center me-2 mb-2 px-0" style="width: 36px; height: 36px;"><i class="bi bi-instagram"></i></a>
                        </div>
                    </div>
                    <div class="col-md-4 mb-5">
                        <h5 class="mb-4">Popular Links</h5>
                        <div class="d-flex flex-column">
                            <a class="text-white mb-2" href="index.html"><i class="bi bi-chevron-right me-2"></i>Home</a>
                            <a class="text-white mb-2" href="about.html"><i class="bi bi-chevron-right me-2"></i>About Us</a>
                            <a class="text-white mb-2" href="services.html"><i class="bi bi-chevron-right me-2"></i>Our Services</a>
                            <a class="text-white" href="contact.html"><i class="bi bi-chevron-right me-2"></i>Contact Us</a>
                        </div>
                    </div>
                    <div class="col-md-4 mb-5">
                        <h5 class="mb-4">Newsletter</h5>
                        <form onsubmit="handleNewsletterSubmit(event)">
                            <div class="mb-3">
                                <input type="text" class="form-control border-0" placeholder="Your Name" required>
                            </div>
                            <div class="mb-3">
                                <input type="email" class="form-control border-0" placeholder="Your Email" required>
                            </div>
                            <button class="btn btn-lg w-100 border-0" style="color: #fff; background-color:#ff6f61" type="submit">Submit Now</button>
                            <div id="newsletter-message" class="text-white mt-2 text-center small"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Bar -->
    <div class="container-fluid text-white py-4 px-sm-3 px-md-5" style="background: #111111;">
        <div class="row">
            <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                <p class="m-0">&copy; FITNESS HEAVEN. All Rights Reserved.</p>
            </div>
            <div class="col-md-6 text-center text-md-end">
                <ul class="nav d-inline-flex flex-wrap justify-content-center justify-content-md-end">
                    <li class="nav-item"><a class="nav-link text-white py-0" href="#">Privacy</a></li>
                    <li class="nav-item"><a class="nav-link text-white py-0" href="#">Terms</a></li>
                    <li class="nav-item"><a class="nav-link text-white py-0" href="#">FAQs</a></li>
                    <li class="nav-item"><a class="nav-link text-white py-0" href="#">Help</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- Footer End -->

    <!-- Back to Top Button (arrow.png replaced with icon) -->
    <button id="backToTop" onclick="scrollToTop()">
        <i class="bi bi-arrow-up-circle-fill"></i>
    </button>
    
    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

    <script>
        // --- Authentication & Navbar Logic (Using localStorage) ---
        document.addEventListener('DOMContentLoaded', (event) => {
            const authLinksContainer = document.getElementById('auth-links');
            // Assuming localStorage is used for session management
            const uname = localStorage.getItem("uname"); 
            
            if (uname) {
                // User is signed in: Display Username and Logout button
                authLinksContainer.innerHTML = `
                    <span class="welcome-msg">${uname}</span>
                    <a class="nav-link" href="#" id="logout-btn">Logout</a>
                `;

                // Add event listener for logout
                document.getElementById('logout-btn').addEventListener('click', function(e) {
                    e.preventDefault();
                    // Clear all user-related data from localStorage
                    localStorage.removeItem('uname');
                    localStorage.removeItem('uemail');
                    localStorage.removeItem('upass');
                    // Redirect to the sign-in page
                    window.location.href = "signin.html";
                });
            } else {
                // User is not signed in: Display Sign In and Sign Up links
                authLinksContainer.innerHTML = `
                    <a class="nav-link" href="signin.html">SignIn</a>
                    <a class="nav-link" href="signup.html">SignUp</a>
                `;
            }

            // --- Back to Top Button Visibility (replacing script.js functionality) ---
            window.onscroll = function() {
                const backToTopButton = document.getElementById('backToTop');
                if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                    backToTopButton.style.display = "flex";
                } else {
                    backToTopButton.style.display = "none";
                }
            };
        });

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
        
        // --- Contact Form Submission Handler (Replacing external logic) ---
        function handleContactSubmit(event) {
            event.preventDefault();
            const messageElement = document.getElementById('form-message');
            const nameInput = document.getElementById('name');

            if (document.getElementById('contactForm').checkValidity()) {
                // Simulate successful submission with a message box
                messageElement.classList.remove('text-danger');
                messageElement.classList.add('text-success');
                messageElement.innerHTML = `<i class="bi bi-check-circle-fill me-1"></i> Thank you, ${nameInput.value}! Your message has been sent.`;
                document.getElementById('contactForm').reset();
            } else {
                // Show validation failure message
                messageElement.classList.remove('text-success');
                messageElement.classList.add('text-danger');
                messageElement.innerHTML = `<i class="bi bi-exclamation-triangle-fill me-1"></i> Please fill out all required fields correctly.`;
            }
        }

        // --- Newsletter Form Submission Handler ---
        function handleNewsletterSubmit(event) {
            event.preventDefault();
            const messageElement = document.getElementById('newsletter-message');
            messageElement.innerHTML = `Thank you for subscribing!`;
            event.target.reset(); // Reset the form
        }

        // ===============================================================
        // --- CRITICAL SCRIPT TO PREVENT BACK BUTTON NAVIGATION ---
        // This pushes a state onto the history stack on load, and when the user tries
        // to go back (popstate), it pushes the current state again, keeping them on the page.
        window.onload = function() {
            // Push a state on load to create a history entry
            window.history.pushState(null, "", window.location.href);

            // On popstate (when back button is pressed), push the current state again
            window.onpopstate = function() {
                window.history.pushState(null, "", window.location.href);
            };
        };
        // ===============================================================
    </script>
</body>
</html>